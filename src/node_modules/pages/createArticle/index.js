import React from "react";
import ArticleForm from "components/articleForm";
import useFetch from "hooks/useFetch";

const CreateArticle = () => {
  const apiUrl = "/articles";
  const [{response, error}, doFetch] = useFetch( apiUrl );
  const initialValues = {
    title: "Basic article title",
    description: "",
    body: "",
    tagList: ["foo", "bar"]
  };
  const handleSubmit = ( article ) => {
    console.log( "handleSubmit", article );
    doFetch({
      method: "post",
      data: {
        article
      }
    })
  };
  return (
      <div>
        <ArticleForm
            errors={(error && error.errors) || {}}
            initialValues={initialValues}
            onSubmit={handleSubmit}/>
      </div>);
};

export default CreateArticle;