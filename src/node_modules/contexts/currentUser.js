import { createContext, useState } from "react";
import React from "react";

export const CurrentUserContext = createContext( [{}, () => {}] );

// обертка для использования контекста CurrentUserContext
export const CurrentUserProvider = ( {children} ) => {
  const [state, setState] = useState( {
    // загружаем юзера или нет
    isLoading: false,
    // 3 состояния null - мы не знаем загружен юзер или нет. false \ true - загрузка юзера
    isLoggedIn: null,
    // response от бэкенда , заменяем null на объект user при получении данных с сервера
    currentUser: null
  } );
  return (
      // Передаем в обертку состояние state и сеттер setState для обновления
      <CurrentUserContext.Provider value={[state, setState]}>
        {children}
      </CurrentUserContext.Provider>
  );
};