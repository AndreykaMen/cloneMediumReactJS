import React from "react";

import useFetch from "hooks/useFetch";

const AddToFavorites = ( {isFavorited, favoritesCount, articleSlug} ) => {

  const apiUrl = `/articles/${articleSlug}/favorite`;
  const [{response}, doFetch] = useFetch(apiUrl);
  console.log("response ",response)

  const handleLike = (event) => {
    event.preventDefault();
    doFetch({
      method: isFavorited ? "delete" : "post"
    })
  };

  return (
      <button className="" onClick={handleLike}>
        <i className="ion-heart"></i>
        <span>&nbsp; {favoritesCount}</span>
      </button>
  );
};

export default AddToFavorites;